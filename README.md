# üìπ –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –Ω–µ–æ–±—ã—á–Ω–æ–π —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–π –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (–∏—Å–ø–æ–ª—å–∑—É—è –≤–∏–¥–µ–æ —Å CCTV-–∫–∞–º–µ—Ä—ã)
–≠—Ç–æ `Python2` —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∞–ª–≥–æ—Ä–∏—Ç–º–∞, –æ–ø–∏—Å–∞–Ω–Ω–æ–≥–æ –≤ –¥–∞–Ω–Ω–æ–º –¥–æ–∫—É–º–µ–Ω—Ç–µ: 
 
https://ieeexplore.ieee.org/document/7024902

## –î–∞—Ç–∞—Å–µ—Ç
–î–∞–Ω–Ω—ã–µ –¥–ª—è —Ç–µ—Å—Ç–∞ –≤–∑—è—Ç—ã –∑–¥–µ—Å—å, —á—Ç–æ–±—ã –æ–±–Ω–∞—Ä—É–∂–∏—Ç—å –Ω–µ–æ–±—ã—á–Ω—É—é –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å —á–µ–ª–æ–≤–µ–∫–∞ –≤ –≤–∏–¥–µ–æ:

http://www.svcl.ucsd.edu/projects/anomaly/

## –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è

–í —Å–≤—è–∑–∏ —Å —É–≤–µ–ª–∏—á–µ–Ω–∏–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –º–∞—Å—Å–æ–≤—ã—Ö –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –≤ –ø–æ—Å–ª–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –ø—Ä–∏–æ–±—Ä–µ—Ç–∞–µ—Ç –ø–µ—Ä–≤–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ. 
–ú–Ω–æ–≥–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç —Å–∏—Å—Ç–µ–º—ã –≤–∏–¥–µ–æ–Ω–∞–±–ª—é–¥–µ–Ω–∏—è –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è –∑–∞ –ª—é–¥—å–º–∏ –∏ –∏—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è–º–∏. 
–î–ª—è —Ä–∞–∑–≤–∏—Ç–æ–π —Å—Ç—Ä–∞–Ω—ã —Å –Ω–∞—Å–µ–ª–µ–Ω–∏–µ–º –≤ 40 –º–∏–ª–ª–∏–æ–Ω–æ–≤ —á–µ–ª–æ–≤–µ–∫ –∫–∞–∂–¥—ã–π —á–µ–ª–æ–≤–µ–∫ —Å–Ω–∏–º–∞–µ—Ç—Å—è –∫–∞–º–µ—Ä–æ–π –æ–∫–æ–ª–æ 30 —Ä–∞–∑ –≤ –¥–µ–Ω—å. 
–ú–Ω–æ–≥–æ –≤–∏–¥–µ–æ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∏ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ —Ç–µ—á–µ–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ (–≤ —Å—Ä–µ–¥–Ω–µ–º –æ–∫–æ–ª–æ 30 –¥–Ω–µ–π). 
–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ–º 704x576, –∑–∞–ø–∏—Å–∞–Ω–Ω–æ–µ —Å–æ —Å–∫–æ—Ä–æ—Å—Ç—å—é 25 –∫–∞–¥—Ä–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É –∑–∞ –≤–µ—Å—å –¥–µ–Ω—å, –±—É–¥–µ—Ç –∑–∞–Ω–∏–º–∞—Ç—å 20 –ì–ë –Ω–∞ –Ω–æ—Å–∏—Ç–µ–ª–µ. 
–ü–æ—Å–∫–æ–ª—å–∫—É –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö –ª—é–¥—å–º–∏, —á—Ç–æ–±—ã –æ—Ü–µ–Ω–∏–≤–∞—Ç—å, —è–≤–ª—è—é—Ç—Å—è –ª–∏ —Å–æ–±—ã—Ç–∏—è –≤ –∫–∞–¥—Ä–µ –Ω–µ–Ω–æ—Ä–º–∞–ª—å–Ω—ã–º–∏, —è–≤–ª—è–µ—Ç—Å—è –ø–æ—á—Ç–∏ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ–π –∑–∞–¥–∞—á–µ–π, —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ —Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—á–µ–π —Å–∏–ª—ã –∏ –∏—Ö –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –≤–Ω–∏–º–∞–Ω–∏—è. 
–≠—Ç–æ —Å–æ–∑–¥–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ.

–ö—Ä–æ–º–µ —Ç–æ–≥–æ, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–∫–∞–∑–∞—Ç—å, –≤ –∫–∞–∫–æ–º –∫–∞–¥—Ä–µ –∏ –≤ –∫–∞–∫–∏—Ö –µ–≥–æ —á–∞—Å—Ç—è—Ö —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è –Ω–µ–æ–±—ã—á–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å, —á—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –±—ã—Å—Ç—Ä–µ–µ —Å—É–¥–∏—Ç—å –æ –Ω–µ–Ω–æ—Ä–º–∞–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏. 
–ú–µ—Ç–æ–¥ –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è —Å–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ä—Ç—ã –≤–ª–∏—è–Ω–∏—è –¥–≤–∏–∂–µ–Ω–∏—è, —á—Ç–æ–±—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è, –∑–∞—Ö–≤–∞—á–µ–Ω–Ω—ã–µ –≤ –∫–∞–¥—Ä–µ. 
–û—Å–Ω–æ–≤–Ω–æ–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω–æ–π –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å—é –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º–æ–π –∫–∞—Ä—Ç—ã –≤–ª–∏—è–Ω–∏—è –¥–≤–∏–∂–µ–Ω–∏—è —è–≤–ª—è–µ—Ç—Å—è —Ç–æ, —á—Ç–æ –æ–Ω–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –¥–≤–∏–∂–µ–Ω–∏—è: —Å–∫–æ—Ä–æ—Å—Ç–∏, –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è, —Ä–∞–∑–º–µ—Ä–∞ –æ–±—ä–µ–∫—Ç–æ–≤ –∏ –∏—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –≤ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∫–∞–¥—Ä–æ–≤.
–ö—Ä–æ–º–µ —Ç–æ–≥–æ, —Å–∫—Ä–∏–ø—Ç –∏–∑–≤–ª–µ–∫–∞–µ—Ç –∫–∞–¥—Ä—ã —Å –∑–∞–≤—ã—à–µ–Ω–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –≤–ª–∏—è–Ω–∏—è –¥–≤–∏–∂–µ–Ω–∏—è –∏ —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –∏—Ö —Å –∫–∞–¥—Ä–∞–º–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –∏ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –Ω–µ–æ–±—ã—á–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–æ–º–æ—Å—Ç–µ–π
–¢—É—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `Python2`, —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã:

```shell script
 pip install -r requirements.txt
```

(–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `virtualenv`)

## –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

–ö–æ–¥ —Ä–∞–∑–¥–µ–ª–µ–Ω –Ω–∞ 5 —Ñ–∞–π–ª–æ–≤, —ç—Ç–æ:
* `optFlowOfBlocks.py`
* `motionInfluenceGenerator.py`
* `CreateMegaBlocks.py`
* `training.py`
* `testing.py`

–í —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ –æ–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è —Å–ø–æ—Å–æ–± –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ –¥–≤–∏–∂–µ–Ω–∏—è –¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –∏ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–µ–æ–±—ã—á–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π –≤ –ª—é–¥–Ω–æ–º –º–µ—Å—Ç–µ. 
–ó–¥–µ—Å—å —Å–ª–µ–¥—É–µ—Ç –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω—ã –±—ã–ª–∏ –¥–≤–∞ —Ç–∏–ø–∞ –Ω–µ–æ–±—ã—á–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π:
* –ª–æ–∫–∞–ª—å–Ω—ã–µ 
* –≥–ª–æ–±–∞–ª—å–Ω—ã–µ

–õ–æ–∫–∞–ª—å–Ω—ã–µ –Ω–µ–æ–±—ã—á–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –≤ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –Ω–µ–±–æ–ª—å—à–æ–π –æ–±–ª–∞—Å—Ç–∏.
–í —á–∞—Å—Ç–∏ –∫–∞–¥—Ä–∞ –º–æ–≥—É—Ç –ø–æ—è–≤–ª—è—Ç—å—Å—è —Ä–∞–∑–ª–∏—á–Ω—ã–µ –¥–≤–∏–∂–µ–Ω–∏—è, —Ç–∞–∫–∏–µ –∫–∞–∫ —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ –Ω–µ—á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –∏–ª–∏ –±—ã—Å—Ç—Ä–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ —á–µ–ª–æ–≤–µ–∫–∞, –∫–æ–≥–¥–∞ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –¥—Ä—É–≥–∏—Ö –ø–µ—à–µ—Ö–æ–¥–æ–≤ –∏–¥—É—Ç –º–µ–¥–ª–µ–Ω–Ω–æ. 

–ì–ª–æ–±–∞–ª—å–Ω—ã–µ –Ω–µ–æ–±—ã—á–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –ø–æ –≤—Å–µ–º—É –∫–∞–¥—Ä—É, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–≥–¥–∞ –∫–∞–∂–¥—ã–π –ø–µ—à–µ—Ö–æ–¥ –≤–Ω—É—Ç—Ä–∏ —Å—Ü–µ–Ω—ã –Ω–∞—á–∏–Ω–∞–µ—Ç –≤–Ω–µ–∑–∞–ø–Ω–æ –±–µ–∂–∞—Ç—å, —É–±–µ–≥–∞—è —Å–æ —Å—Ü–µ–Ω—ã.

### –í–≤–æ–¥ –∏ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö

–í–∏–¥–µ–æ—Ñ–∞–π–ª –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Å–∏—Å—Ç–µ–º—ã, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–¥–≤–µ—Ä–≥–∞–µ—Ç—Å—è –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–µ.
–í–∏–¥–µ–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, –Ω–∞–∑—ã–≤–∞–µ–º—ã—Ö –∫–∞–¥—Ä–∞–º–∏, –∏ —ç—Ç–∏ –∫–∞–¥—Ä—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ.
RGB –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è –≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—Ç—Ç–µ–Ω–∫–æ–≤ —Å–µ—Ä–æ–≥–æ. 
–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –æ—Ç—Ç–µ–Ω–∫–∞—Ö —Å–µ—Ä–æ–≥–æ —Å–æ—Å—Ç–æ–∏—Ç —Ç–æ–ª—å–∫–æ –∏–∑ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –∞ –Ω–µ –∏–∑ –≤–∏–¥–∏–º—ã—Ö —Ü–≤–µ—Ç–æ–≤.
–í–µ–∫—Ç–æ—Ä RGB —è–≤–ª—è–µ—Ç—Å—è —Ç—Ä–µ—Ö–º–µ—Ä–Ω—ã–º (–ø–æ—Å–∫–æ–ª—å–∫—É –æ–Ω —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –∑–Ω–∞—á–µ–Ω–∏–π —Ü–≤–µ—Ç–æ–≤ –∫—Ä–∞—Å–Ω–æ–≥–æ, –∑–µ–ª–µ–Ω–æ–≥–æ –∏ —Å–∏–Ω–µ–≥–æ), —Ç–æ–≥–¥–∞ –∫–∞–∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤–µ–∫—Ç–æ—Ä —Å–µ—Ä–æ–≥–æ —Ü–≤–µ—Ç–∞ —è–≤–ª—è–µ—Ç—Å—è –æ–¥–Ω–æ–º–µ—Ä–Ω—ã–º.

###  –û–ø—Ç–∏—á–µ—Å–∫–∏–π –ø–æ—Ç–æ–∫

–ü–æ—Å–ª–µ —ç—Ç–∞–ø–∞ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–∞–¥—Ä–∞ –≤ –≤–∏–¥–µ–æ –æ–ø—Ç–∏—á–µ—Å–∫–∏–π –ø–æ—Ç–æ–∫ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–∏–∫—Å–µ–ª—è –≤ –∫–∞–¥—Ä–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∞–ª–≥–æ—Ä–∏—Ç–º–∞ FarneBack.
–û–ø—Ç–∏—á–µ—Å–∫–∏–π –ø–æ—Ç–æ–∫ - —ç—Ç–æ –º–æ–¥–µ–ª—å –≤–∏–¥–∏–º–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤, –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–µ–π –∏ –∫—Ä–∞–µ–≤ –≤ –≤–∏–∑—É–∞–ª—å–Ω–æ–π —Å—Ü–µ–Ω–µ, –≤—ã–∑–≤–∞–Ω–Ω–∞—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–º –¥–≤–∏–∂–µ–Ω–∏–µ–º –º–µ–∂–¥—É –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–º –∏ —Å—Ü–µ–Ω–æ–π.
–û–ø—Ç–∏—á–µ—Å–∫–∏–π –ø–æ—Ç–æ–∫ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –≤–µ–∫—Ç–æ—Ä –≤–∏–¥–∞ `(r, Œ∏)`, –≥–¥–µ `r` –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –≤–µ–ª–∏—á–∏–Ω—É –∫–∞–∂–¥–æ–≥–æ –ø–∏–∫—Å–µ–ª—è, –∞ `Œ∏` –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ, –≤ –∫–æ—Ç–æ—Ä–æ–º –∫–∞–∂–¥—ã–π –ø–∏–∫—Å–µ–ª—å –ø–µ—Ä–µ–º–µ—â–∞–ª—Å—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ –ø–∏–∫—Å–µ–ª—è –≤ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –∫–∞–¥—Ä–∞—Ö.

–§—É–Ω–∫—Ü–∏—è `calcOpticalFlowFarneback()` –≤ OpenCV –≤—ã—á–∏—Å–ª—è–µ—Ç –ø–ª–æ—Ç–Ω—ã–π –æ–ø—Ç–∏—á–µ—Å–∫–∏–π –ø–æ—Ç–æ–∫, –∏—Å–ø–æ–ª—å–∑—É—è –∞–ª–≥–æ—Ä–∏—Ç–º Gunnar Farneback.

### –û–ø—Ç–∏—á–µ—Å–∫–∏–π –ø–æ—Ç–æ–∫ –±–ª–æ–∫–æ–≤
#### –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∫–∞–¥—Ä–∞ –Ω–∞ –±–ª–æ–∫–∏

–ü–æ—Å–ª–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –æ–ø—Ç–∏—á–µ—Å–∫–∏—Ö –ø–æ—Ç–æ–∫–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–∏–∫—Å–µ–ª—è –≤ –∫–∞–¥—Ä–µ –º—ã —Ä–∞–∑–¥–µ–ª—è–µ–º –∫–∞–¥—Ä –Ω–∞ `M` –Ω–∞ `N`–æ–¥–Ω–æ—Ä–æ–¥–Ω—ã—Ö –±–ª–æ–∫–æ–≤ –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –æ–±—â–Ω–æ—Å—Ç–∏, –≥–¥–µ –±–ª–æ–∫–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –ø—Ä–æ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω<—ã —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º `{B1, B2, ..., BMN} `.

#### –†–∞—Å—á–µ—Ç –æ–ø—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ—Ç–æ–∫–∞ –∫–∞–∂–¥–æ–≥–æ –±–ª–æ–∫–∞

–ü–æ—Å–ª–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –∫–∞–¥—Ä–æ–≤ –Ω–∞ –±–ª–æ–∫–∏ –º—ã –≤—ã—á–∏—Å–ª—è–µ–º –æ–ø—Ç–∏—á–µ—Å–∫–∏–π –ø–æ—Ç–æ–∫ –∫–∞–∂–¥–æ–≥–æ –±–ª–æ–∫–∞, –≤—ã—á–∏—Å–ª—è—è —Å—Ä–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –æ–ø—Ç–∏—á–µ—Å–∫–∏—Ö –ø–æ—Ç–æ–∫–æ–≤ –≤—Å–µ—Ö –ø–∏–∫—Å–µ–ª–µ–π, —Å–æ—Å—Ç–∞–≤–ª—è—é—â–∏—Ö –±–ª–æ–∫.
–û–ø—Ç–∏—á–µ—Å–∫–∏–º –ø–æ—Ç–æ–∫–æ–º –±–ª–æ–∫–∞ —è–≤–ª—è–µ—Ç—Å—è –≤–µ–∫—Ç–æ—Ä `(r, Œ∏)`, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç, —Å–∫–æ–ª—å–∫–æ —Å–¥–≤–∏–Ω—É–ª –∫–∞–∂–¥—ã–π –±–ª–æ–∫ –∏ –≤ –∫–∞–∫–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –±–ª–æ–∫–æ–º –≤ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –∫–∞–¥—Ä–∞—Ö. 

### –ö–∞—Ä—Ç–∞ –≤–ª–∏—è–Ω–∏—è –¥–≤–∏–∂–µ–Ω–∏—è

–ù–∞ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è –ø–µ—à–µ—Ö–æ–¥–∞ –≤ —Ç–æ–ª–ø–µ –º–æ–≥—É—Ç –≤–ª–∏—è—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ñ–∞–∫—Ç–æ—Ä—ã, —Ç–∞–∫–∏–µ –∫–∞–∫ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è –Ω–∞ –ø—É—Ç–∏, –±–ª–∏–∂–∞–π—à–∏–µ –ø–µ—à–µ—Ö–æ–¥—ã –∏ –¥–≤–∏–∂—É—â–∏–π—Å—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç.
–ú—ã –Ω–∞–∑—ã–≤–∞–µ–º —ç—Ç—É —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫—É –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –≤–ª–∏—è–Ω–∏–µ–º –¥–≤–∏–∂–µ–Ω–∏—è.
–ú—ã –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º, —á—Ç–æ –±–ª–æ–∫–∏, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ –≤–æ–∑–¥–µ–π—Å—Ç–≤—É–µ—Ç –¥–≤–∏–∂—É—â–∏–π—Å—è –æ–±—ä–µ–∫—Ç, –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –¥–≤—É–º—è —Ñ–∞–∫—Ç–æ—Ä–∞–º–∏:
* –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è
* —Å–∫–æ—Ä–æ—Å—Ç—å –¥–≤–∏–∂–µ–Ω–∏—è

–ß–µ–º –±—ã—Å—Ç—Ä–µ–µ –¥–≤–∏–∂–µ—Ç—Å—è –æ–±—ä–µ–∫—Ç, —Ç–µ–º –±–æ–ª—å—à–µ —Å–æ—Å–µ–¥–Ω–∏—Ö –±–ª–æ–∫–æ–≤ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –ø–æ–¥ –≤–æ–∑–¥–µ–π—Å—Ç–≤–∏–µ–º –æ–±—ä–µ–∫—Ç–∞.
–°–æ—Å–µ–¥–Ω–∏–µ –±–ª–æ–∫–∏ –∏–º–µ—é—Ç –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–æ–µ –≤–ª–∏—è–Ω–∏–µ, —á–µ–º —É–¥–∞–ª–µ–Ω–Ω—ã–µ –±–ª–æ–∫–∏.

### –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —á–µ—Ä—Ç

–ù–∞ –∫–∞—Ä—Ç–µ –≤–ª–∏—è–Ω–∏—è –¥–≤–∏–∂–µ–Ω–∏—è –±–ª–æ–∫, –≤ –∫–æ—Ç–æ—Ä–æ–º –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–µ–æ–±—ã—á–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å, –≤–º–µ—Å—Ç–µ —Å —Å–æ—Å–µ–¥–Ω–∏–º–∏ –±–ª–æ–∫–∞–º–∏ –∏–º–µ–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –≤–µ–∫—Ç–æ—Ä—ã –≤–ª–∏—è–Ω–∏—è –¥–≤–∏–∂–µ–Ω–∏—è.
–ö—Ä–æ–º–µ —Ç–æ–≥–æ, –ø–æ—Å–∫–æ–ª—å–∫—É –¥–µ–π—Å—Ç–≤–∏–µ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–º–∏ –∫–∞–¥—Ä–∞–º–∏, –º—ã –∏–∑–≤–ª–µ–∫–∞–µ–º –≤–µ–∫—Ç–æ—Ä –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ –∏–∑ –∫—É–±–æ–∏–¥–∞, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ `n √ó n` –±–ª–æ–∫–∞–º–∏, –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ `t` –∫–∞–¥—Ä–æ–≤.

#### –°–æ–∑–¥–∞–Ω–∏–µ –º–µ–≥–∞–±–ª–æ–∫–æ–≤

–ö–∞–¥—Ä—ã —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –Ω–∞ –Ω–µ–ø–µ—Ä–µ–∫—Ä—ã–≤–∞—é—â–∏–µ—Å—è –º–µ–≥–∞–±–ª–æ–∫–∏, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –∫–æ–º–±–∏–Ω–∞—Ü–∏—é –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –±–ª–æ–∫–æ–≤ –≤–ª–∏—è–Ω–∏—è –¥–≤–∏–∂–µ–Ω–∏—è.
–ó–Ω–∞—á–µ–Ω–∏–µ –≤–ª–∏—è–Ω–∏—è –¥–≤–∏–∂–µ–Ω–∏—è –º–µ–≥–∞–±–ª–æ–∫–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Å—É–º–º—É –∑–Ω–∞—á–µ–Ω–∏–π –≤–ª–∏—è–Ω–∏—è –¥–≤–∏–∂–µ–Ω–∏—è –≤—Å–µ—Ö –º–µ–Ω—å—à–∏—Ö –±–ª–æ–∫–æ–≤, —Å–æ—Å—Ç–∞–≤–ª—è—é—â–∏—Ö –±–æ–ª—å—à–∏–π –±–ª–æ–∫.

#### –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —á–µ—Ä—Ç

–ü–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –Ω–µ–¥–∞–≤–Ω–µ–µ `t` –∫–∞–¥—Ä–æ–≤ –±—ã–ª–∏ —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –Ω–∞ –º–µ–≥–∞–±–ª–æ–∫–∏, –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–µ–≥–∞–±–ª–æ–∫–∞ –≤–µ–∫—Ç–æ—Ä `8 √ó t`-–º–µ—Ä–Ω–æ–≥–æ –∫–∞—Å–∫–∞–¥–Ω–æ–≥–æ –ø—Ä–∏–∑–Ω–∞–∫–∞ –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –≤–æ –≤—Å–µ—Ö –∫–∞–¥—Ä–∞—Ö.
–ù–∞–ø—Ä–∏–º–µ—Ä, –º—ã –±–µ—Ä–µ–º –º–µ–≥–∞–±–ª–æ–∫ `(1, 1)` –∏–∑ –≤—Å–µ—Ö –∫–∞–¥—Ä–æ–≤ (`t` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞–¥—Ä–æ–≤) –∏ –æ–±—ä–µ–¥–∏–Ω—è–µ–º –∏—Ö –≤–µ–∫—Ç–æ—Ä—ã –ø—Ä–∏–∑–Ω–∞–∫–æ–≤, —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω—ã–π –≤–µ–∫—Ç–æ—Ä –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ –¥–ª—è –±–ª–æ–∫–∞ `(1, 1)`.

### –ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è

–î–ª—è –∫–∞–∂–¥–æ–≥–æ –º–µ–≥–∞–±–ª–æ–∫–∞ –º—ã –≤—ã–ø–æ–ª–Ω—è–µ–º –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—é —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω–æ-–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ü–µ–Ω—Ç—Ä—ã –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–æ–¥–æ–≤—ã—Ö —Å–ª–æ–≤.
–¢.–µ. –¥–ª—è `(i, j)`-–≥–æ –º–µ–≥–∞–±–ª–æ–∫–∞ —É –Ω–∞—Å –µ—Å—Ç—å K –∫–æ–¥–æ–≤—ã—Ö —Å–ª–æ–≤.
–ó–¥–µ—Å—å —Å–ª–µ–¥—É–µ—Ç –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ –Ω–∞ –Ω–∞—à–µ–º —ç—Ç–∞–ø–µ –æ–±—É—á–µ–Ω–∏—è –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ–ª—å–∫–æ –≤–∏–¥–µ–æ—Ä–æ–ª–∏–∫–∏ —Å –±–µ–∑ –Ω–µ–æ–±—ã—á–Ω–æ–π –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.
–ü–æ—ç—Ç–æ–º—É –∫–æ–¥–æ–≤—ã–µ —Å–ª–æ–≤–∞ –º–µ–≥–∞–±–ª–æ–∫–∞ –º–æ–¥–µ–ª–∏—Ä—É—é—Ç —à–∞–±–ª–æ–Ω—ã –æ–±—ã—á–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –æ–±–ª–∞—Å—Ç–∏.

### –§–∞–∑–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ –º—ã —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª–∏ –∫–æ–¥–æ–≤—ã–µ —Å–ª–æ–≤–∞ –¥–ª—è –æ–±—ã—á–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π, –ø—Ä–∏—à–ª–æ –≤—Ä–µ–º—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—É—é –º–æ–¥–µ–ª—å —Å —Ç–µ—Å—Ç–æ–≤—ã–º –Ω–∞–±–æ—Ä–æ–º –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ–æ–±—ã—á–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è. 

#### –ú–∞—Ç—Ä–∏—Ü–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–π

–ü—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –ø–æ—Å–ª–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –≤–µ–∫—Ç–æ—Ä–æ–≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω–æ-–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ –¥–ª—è –≤—Å–µ—Ö –º–µ–≥–∞–±–ª–æ–∫–æ–≤, –º—ã —Å—Ç—Ä–æ–∏–º –º–∞—Ç—Ä–∏—Ü—É –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è `E` –ø–æ –º–µ–≥–∞–±–ª–æ–∫–∞–º, –≤ –∫–æ—Ç–æ—Ä–æ–π –∑–Ω–∞—á–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º –µ–≤–∫–ª–∏–¥–æ–≤—ã–º —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ–º –º–µ–∂–¥—É –≤–µ–∫—Ç–æ—Ä–æ–º –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ —Ç–µ–∫—É—â–µ–≥–æ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∫–∞–¥—Ä–∞ –∏ –∫–æ–¥–æ–≤—ã—Ö —Å–ª–æ–≤ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º –º–µ–≥–∞–±–ª–æ–∫–µ.


## –õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞

1. Dong-Gyu Lee, Heung-Il Suk, Sung-Kee Park and Seong-Whan Lee ‚ÄúMotion Influence Map for Unusual Human Activity Detection and Localization in Crowded Scenes‚Äù IEEE transactions on circuits and systems for video technology, vol. 25, no. 10, October 2015

2. –î–∞—Ç–∞—Å–µ—Ç ‚Äì http://mha.cs.umn.edu/Movies/Crowd-Activity-All.avi

3. –î–∞—Ç–∞—Å–µ—Ç - http://www.svcl.ucsd.edu/projects/anomaly/

4. T. Xiang and S. Gong, ‚ÄúVideo behavior profiling for anomaly detection,‚Äù IEEE Trans. Pattern Anal. Mach. Intell., vol. 30, no. 5, pp. 893‚Äì908, May 2008.

5. F. Jiang, J. Yuan, S. A. Tsaftaris, and A. K. Katsaggelos, ‚ÄúAnomalous video event detection using spatiotemporal context,‚Äù Comput. Vis. Image Understand., vol. 115, no. 3, pp. 323‚Äì333, 2011.

6. B. D. Lucas and T. Kanade, ‚ÄúAn iterative image registration technique with an application to stereo vision,‚Äù in Proc. 7th Int. Joint Conf. Artif. Intell., San Francisco, CA, USA, Aug. 1981, pp. 674‚Äì679.

7. OpenCV Python —Ç—É—Ç–æ—Ä–∏–∞–ª—ã http://docs.opencv.org/3.0-beta/doc/py_tutorials/py_tutorials.html 

8. OpenCV –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è http://opencv-python-tutroals.readthedocs.io/en/latest/ 
